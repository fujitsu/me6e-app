################################################################################
# ME6Eアプリケーション 設定ファイル サンプル
################################################################################

################################################################################
# 共通設定 (省略不可)
################################################################################
[common]
################################################################################
# ME6Eの動作モード。以下が設定可能 (省略不可)
# ・0：通常モード
# ・1：ME6E-PRモード
tunnel_mode            = 1
################################################################################
# plane名。(省略不可)
# 外部コマンドで指定するアプリケーション名はここで設定した値を使用するので、
# 複数Planeを起動する場合は他と被らない値にすること。
plane_name             = me6e0
################################################################################
# デバッグログを出力するかどうか (省略可)
#   yes：出力する
#   no ：出力しない (デフォルト)
debug_log              = yes
################################################################################
# daemon化(バックグラウンド動作)するかどうか (省略可)
#   yes：daemon化する (デフォルト)
#   no ：daemon化しない
daemon                 = no
################################################################################
# スタートアップスクリプト (省略可)
# アプリ起動前に実行したいコマンド（経路情報の追加など）を記載する。
# ※スクリプトファイルは実行権限のあるファイルをフルパスで指定すること。
#startup_script         = /etc/me6e/me6e_startup.sh


################################################################################
# カプセリング固有の設定 (省略不可)
################################################################################
[capsuling]
################################################################################
# ME6Eのunicast prefix address。(省略不可)
# IPv6ユニキャストアドレス形式で設定すること。
#
# 【ユニキャストアドレスフォーマット】
# +------------------80bit---------------------------+
# +-----------N bit--------------------+--M bit -----+--------48bit------------+
# |  ME6E address prefix               |    planID   |     MAC address         |
# +---------------------------- 128bit-----------------------------------------+
# ※N、Mのbit長は可変です。但し、Mは最大32bitまでです。
#
# マルチキャスト転送を動作させる場合は、Nは64bit以内に設定してください。(RFC3306準拠)
#
# prefix長は最大80bitまで。
me6e_address_prefix    = 2001:db8:0::/48
################################################################################
# ME6Eのmulticast prefix address。(省略不可)
# IPv6マルチキャストアドレス形式で設定すること。
#
# 先頭から、96bit（ME6E address prefix）まで、
# 当該設定ファイルで指定してください。
# planeID部分は、アプリケーションが付け足します。
#
# 【マルチキャストアドレスフォーマット】
# +---8bit---+--4bit-+--4bit-+-8bit+-8bit-+--------64bit---------+1bit+-31bit--+
# | 11111111 | flags | scope | rsv | plen |  ME6E address prefix |  1 | planID |
# +---------------------------- 96bit----------------------------+-------------+
#
# 例.
#     me6e_address_prefixが「2001:db8:1111:2222::/64」の場合は、
#     me6e_multicast_prefixは「ff38:0040:2001:db8:1111:2222::」と設定する。
#
#     また、me6e_address_prefixが「2001:db8:1111::/48」のように、
#     prefix長が、64bit以内の場合は、
#     me6e_multicast_prefixは「ff38:0030:2001:db8:1111::」と設定する。(RFC3306準拠)
#     ※マルチキャストのME6E address prefixフィールドは、ユニキャストアドレスの
#        ME6E address prefixを上位ビットから設定し、残りの下位ビットは、0に設定する。
#
# prefix長は96固定。
me6e_multicast_prefix  = ff38:0030:2001:db8:0::
################################################################################
# PlaneID。IPv6表記で設定すること。(省略可)
# 省略した場合はPlaneID無しとして扱う。
# 32bit固定。
plane_id                = 64:1
################################################################################
# マルチキャストのホップリミット数 (省略可)
# 設定可能範囲：1～255
# 省略時のデフォルト値：64
hop_limit               = 64
################################################################################
# Backboneネットワーク内での物理デバイス名 (省略不可)
backbone_physical_dev   = eth1
################################################################################
# Stubネットワーク内での物理デバイス名 (省略不可)
stub_physical_dev       = eth2
################################################################################
# 生成するトンネルデバイス名 (省略不可)
# ※半角英数字で15文字まで設定可能とする。
tunnel_name             = me6etun0
################################################################################
# トンネルデバイスに設定するMTUサイズ (省略可)
# 省略時のデフォルト値：対応する物理デバイスのMTUサイズ
# ※対応する物理デバイスのMTUサイズより大きな値を設定した場合、
#   MTUサイズが変更できない場合がある。
#   その場合、元のMTUサイズのままで起動する。
tunnel_mtu              = 1500
################################################################################
# トンネルデバイスに設定するMACアドレス (省略可)
# 省略時のデフォルト値：OSが自動設定した値
# ※ハードウェア(デバイスドライバ)の制限により、
#   MACアドレスが変更できない場合がある。
#   その場合、元のMACアドレスのままで起動する。
#tunnel_hwaddr           = 22:33:44:55:11:22
################################################################################
# 生成するブリッジデバイス名 (省略不可)
# ※半角英数字で15文字まで設定可能とする。
bridge_name             = me6ebr0
################################################################################
# 生成するブリッジデバイスMACアドレス (省略可)
#bridge_hwaddr           = aa:bb:cc:dd:ee:ff
################################################################################
# L2マルチ-L3ユニキャスト機能をどうさせるかどうか (省略可)
#   yes：動作する
#   no ：動作しない(デフォルト)
l2multi_l3uni           = no
################################################################################
# L2マルチ-L3ユニキャスト機能動作時の送信先ME6Eサーバアドレス
# 複数指定可能。
# L2マルチ-L3ユニキャスト機能(l2multi_l3umi)に「yes」が設定されている場合は、
# 省略不可。「no」が設定されている場合は、省略可。
me6e_host_address      = 2001:db8:0:64::1
me6e_host_address      = 2001:db8:0:64::2
################################################################################
# ME6-PRの送信元アドレスのunicast prefix address
# IPv6ユニキャストアドレス形式で設定すること。
me6e_pr_unicast_prefix = 2001:db8:ff10:10::/64
################################################################################
# 代理ARP固有の設定 (省略不可)
################################################################################
[proxy_arp]
################################################################################
# 代理ARP機能を動作させるかどうか (省略可)
#   yes：動作する(デフォルト)
#   no ：動作しない
arp_enable              = yes
################################################################################
# ARPテーブルへの動的エントリの追加/更新をおこなうかどうか(省略可)
#   yes：動作する(デフォルト)
#   no ：動作しない
arp_entry_update        = no
################################################################################
# APRエントリー保持期限(秒) (省略可)
# 設定可能範囲：301～65535
# 省略時のデフォルト値：600
arp_aging_time          = 600
################################################################################
# APRエントリーの登録できる静的と動的エントリの最大数 (省略不可)
# 設定可能範囲：1～65535
arp_entry_max           = 125
################################################################################
# ARPテーブルへの静的エントリ(省略可)
# 複数指定可能。
192.168.0.10            = 00:1D:73:E6:BE:10
192.168.0.11            = 00:1D:73:E6:BE:12

################################################################################
# 代理NDP固有の設定 (省略不可)
################################################################################
[proxy_ndp]
################################################################################
# 代理NDP機能を動作させるかどうか (省略可)
#   yes：動作する(デフォルト)
#   no ：動作しない
ndp_enable              = yes
################################################################################
# NDPテーブルへの動的エントリの追加/更新をおこなうかどうか(省略可)
#   yes：動作する(デフォルト)
#   no ：動作しない
ndp_entry_update        = no
################################################################################
# NDPエントリー保持期限(秒) (省略可)
# 設定可能範囲：301～65535
# 省略時のデフォルト値：600
ndp_aging_time          = 600
################################################################################
# NDPエントリーの登録できる静的と動的エントリの最大数 (省略不可)
# 設定可能範囲：1～65535
ndp_entry_max           = 125
################################################################################
# NDPテーブルへの静的エントリ(省略可)
# 複数指定可能。
fec0::10                = 00:1D:73:E6:BE:20
fec0::11                = 00:1D:73:E6:BE:21

################################################################################
# MAC管理固有の設定 (省略不可)
################################################################################
[mng_macaddr]
################################################################################
# MACアドレス管理機能を動作させるかどうか (省略可)
#   yes：動作する(デフォルト)
#   no ：動作しない
mng_macaddr_enable      = yes
################################################################################
# Stubネットワーク配下のME6Eアドレスの動的の追加/更新をおこなうかどうか(省略可)
#   yes：動作する(デフォルト)
#   no ：動作しない
mac_entry_update        = no
################################################################################
# Stubネットワーク配下のME6Eアドレス有効期限(秒) (省略可)
# 設定可能範囲：301～65535
# 省略時のデフォルト値：600
mac_vaild_lifetime      = 600
################################################################################
# Stubネットワーク配下のME6Eアドレスの登録できる静的と動的エントリの最大数 (省略不可)
# 設定可能範囲：1～65535
mac_entry_max           = 128
################################################################################
# Stubネットワーク配下のME6Eアドレスの静的エントリー(省略可)
# 複数指定可能。
hosthw_addr             = 00:44:55:66:77:11
hosthw_addr             = 00:44:55:66:77:12

################################################################################
# ME6E-PR Table管理(動作モード：tunnel_mode = 1の場合、省略不可)
################################################################################
# 自拠点のME6E-PRエントリー
################################################################################
[me6e_pr]
macaddr                 = B0:99:28:1F:59:4E
pr_prefix               = 2001:db8:ff57:73::/64
################################################################################
# 他拠点のME6E-PRエントリー
################################################################################
[me6e_pr]
macaddr                 = B0:99:28:1F:51:21
pr_prefix               = 2001:db8:ff57:00::/64


